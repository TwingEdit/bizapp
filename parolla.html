<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BizApp - Parolla</title>
  <style>
    :root {
      --bg: #121213;
      --card-bg: #1e1e1e;
      --text: #d7dadc;
      --correct: #6aaa64;
      --wrong: #ff4d6d;
      --active: #4cc9f0;
      --passed: #f9c74f;
    }

    body {
      font-family: 'Segoe UI', sans-serif;
      background: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding: 10px;
      height: 100vh;
    }

    /* Çember ve Harfler */
    #wheel-container { position: relative; width: 310px; height: 310px; margin: 20px 0; flex-shrink: 0; }
    .letter {
      position: absolute; width: 32px; height: 32px; border-radius: 50%;
      background: #3a3a3c; display: flex; align-items: center; justify-content: center;
      font-weight: bold; font-size: 13px; transition: 0.3s; color: white;
    }
    .active { background: var(--active); transform: scale(1.3); box-shadow: 0 0 15px var(--active); z-index: 5; }
    .correct { background: var(--correct) !important; }
    .wrong { background: var(--wrong) !important; }
    .passed { background: var(--passed) !important; color: #333; }

    /* Soru Kartı */
    #question-card {
      background: var(--bg);
      padding: 20px;
      width: 95%;
      max-width: 500px;
      text-align: center;
    }

    #question-text {
      font-size: 22px;
      font-weight: 800;
      line-height: 1.3;
      text-transform: uppercase;
      margin-bottom: 30px;
      min-height: 80px;
    }

    input {
      width: 80%;
      padding: 15px;
      background: transparent;
      border: none;
      border-bottom: 2px solid #3a3a3c;
      color: white;
      font-size: 20px;
      text-align: center;
      text-transform: uppercase;
      outline: none;
      margin-bottom: 20px;
    }

    .btn-group { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
    button { padding: 15px; border-radius: 5px; border: none; font-weight: bold; cursor: pointer; text-transform: uppercase; }
    .btn-check { background: var(--correct); color: white; }
    .btn-pass { background: var(--passed); color: #333; }

    /* Sonuç Ekranı */
    .results-overlay {
      position: fixed; top:0; left:0; width:100%; height:100%;
      background: var(--bg); display: none; flex-direction: column;
      align-items: center; padding: 20px; overflow-y: auto; z-index: 100;
    }
    .result-item { margin: 5px 0; font-size: 14px; width: 100%; max-width: 300px; display: flex; justify-content: space-between; border-bottom: 1px solid #333; padding: 5px; }
  </style>
</head>
<body>

  <div id="wheel-container"></div>

  <div id="question-card">
    <div id="question-text">BAŞLATILIYOR...</div>
    <input type="text" id="answer-input" placeholder="CEVABI YAZIN" autocomplete="off">
    <div class="btn-group">
      <button class="btn-pass" onclick="handlePass()">PAS</button>
      <button class="btn-check" onclick="handleCheck()">CEVAPLA</button>
    </div>
  </div>

  <div id="results-screen" class="results-overlay">
    <h2>OYUN TAMAMLANDI</h2>
    <div id="stats-summary" style="font-size: 18px; margin-bottom: 20px;"></div>
    <div id="answers-list" style="width: 100%;"></div>
    <button onclick="location.reload()" style="margin-top:20px; background:var(--active); width:200px;">YENİDEN OYNA</button>
  </div>

<script>
const alphabet = ["A", "B", "C", "Ç", "D", "E", "F", "G", "H", "I", "İ", "J", "K", "L", "M", "N", "O", "Ö", "P", "R", "S", "Ş", "T", "U", "Ü", "V", "Y", "Z"];

// SORU HAVUZU (Her harf için rastgele birini seçer)
const questionBank = {
  "A": [{q: "Işık saçacak beyazlığa varıncaya kadar ısıtılmış olan?", a: "AKKOR"}, {q: "Bir devletin egemenliği altındaki topraklar?", a: "ANAVATAN"}],
  "B": [{q: "Üzerine yazı yazmak için hazırlanan kurutulmuş hayvan derisi?", a: "PARŞÖMEN"}, {q: "Bilimsel araştırmaların yapıldığı yer?", a: "LABORATUVAR"}], // Not: Harf kelimenin içinde de geçebilir klasik kurallarda.
  "C": [{q: "Yeryüzündeki büyük su kütlelerini birbirinden ayıran kıtalar?", a: "COĞRAFYA"}, {q: "Topluluk içinde uyulması gereken nezaket kuralları?", a: "ADABIMUAŞERET"}],
  "Ç": [{q: "Toprağı kazmak için kullanılan tarım aracı?", a: "ÇAPA"}, {q: "Yazın güneşten korunmak için kullanılan şapka türü?", a: "HASIRŞAPKA"}],
  "D": [{q: "Gözle görülemeyecek kadar küçük canlıları inceleyen bilim?", a: "MİKROBİYOLOJİ"}, {q: "Sürekli akan büyük su kütlesi?", a: "AKARSU"}],
  "E": [{q: "Bir işi yapmak için gereken güç?", a: "ENERJİ"}, {q: "Yeryüzündeki tüm canlıların yaşam alanı?", a: "EKOSİSTEM"}],
  "F": [{q: "Işığı kıran cam nesne?", a: "FRESNEL"}, {q: "Bilimsel varsayım?", a: "HİPOTEZ"}],
  "G": [{q: "Isı ve ışık kaynağı olan yıldızımız?", a: "GÜNEŞ"}, {q: "Hava katmanlarının oluşturduğu bütün?", a: "ATMOSFER"}],
  "H": [{q: "Canlıların doğal yaşam alanı?", a: "HABİTAT"}, {q: "Maddenin en küçük yapı taşı?", a: "ATOM"}],
  "I": [{q: "Cisimleri görmemizi sağlayan enerji?", a: "IŞIK"}, {q: "Sıcaklık ölçen alet?", a: "TERMOMETRE"}],
  "İ": [{q: "Duygu ve düşüncelerin aktarımı?", a: "İLETİŞİM"}, {q: "Gözün renkli kısmı?", a: "İRS"}],
  "J": [{q: "Otomobil tekerleğinin metal kısmı?", a: "JANT"}, {q: "Hava kuvvetlerinde savaş uçağı?", a: "JET"}],
  "K": [{q: "Dünyayı çevreleyen hava tabakası?", a: "KATMANGÜCÜ"}, {q: "Maddenin katı, sıvı, gaz hallerinden biri?", a: "KATI"}],
  "L": [{q: "Gemilerin park yeri?", a: "LİMAN"}, {q: "Bir dili konuşan topluluk?", a: "LİSAN"}],
  "M": [{q: "Küçük varlıkları görme aracı?", a: "MİKROSKOP"}, {q: "Evrenin sırlarını inceleyen bilim?", a: "MATEMATİK"}],
  "N": [{q: "Yaşam için gerekli gaz?", a: "AZOT"}, {q: "Sıfırın altındaki sıcaklık?", a: "NEGATİF"}],
  "O": [{q: "Devasa su kütlesi?", a: "OKYANUS"}, {q: "Bitkilerin besin üretme süreci?", a: "FOTOSENTEZ"}],
  "Ö": [{q: "Başkalarından ayıran hal?", a: "ÖZELLİK"}, {q: "Bir sıvının akmaya karşı direnci?", a: "VİSKOZİTE"}],
  "P": [{q: "Işığı yansıtan yüzey?", a: "AYNA"}, {q: "Elementlerin tablosu?", a: "PERİYODİK"}],
  "R": [{q: "Hava akımı?", a: "RÜZGAR"}, {q: "Sayısal işlem yapan beyin?", a: "ROBOT"}],
  "S": [{q: "Havadaki su buharının yoğunlaşması?", a: "SİS"}, {q: "Uzun süreli yağışsızlık?", a: "KURAKLIK"}],
  "Ş": [{q: "Yerleşim yeri?", a: "ŞEHİR"}, {q: "Elektrik devresini kesen araç?", a: "ŞALTER"}],
  "T": [{q: "Geçmişin kalıntısı?", a: "TARİH"}, {q: "Isı ileten madde?", a: "TERMAL"}],
  "U": [{q: "Dünya dışı boşluk?", a: "UZAY"}, {q: "Gök cismi?", a: "UYDU"}],
  "Ü": [{q: "İnsan topluluğu?", a: "ÜLKE"}, {q: "Mıknatısın ucu?", a: "ÜRETİM"}],
  "V": [{q: "Kandaki oksijen taşıyıcı?", a: "HEMOGLOBİN"}, {q: "Hastalık yapan mikroorganizma?", a: "VİRÜS"}],
  "Y": [{q: "Gökten düşen su?", a: "YAĞMUR"}, {q: "Yerin sarsılması?", a: "DEPREM"}],
  "Z": [{q: "Süreç?", a: "ZAMAN"}, {q: "Zekayı ölçen test?", a: "IQ"}]
};

let currentIndex = 0;
let sessionQuestions = {}; // O anki oyunun soruları
let results = {}; // correct, wrong, passed
let passes = 0;

function initGame() {
  const container = document.getElementById("wheel-container");
  const radius = 130;
  
  alphabet.forEach((letter, i) => {
    // Rastgele soru seç
    const options = questionBank[letter];
    sessionQuestions[letter] = options[Math.floor(Math.random() * options.length)];

    const angle = (i / alphabet.length) * (2 * Math.PI) - (Math.PI / 2);
    const x = 155 + radius * Math.cos(angle) - 16;
    const y = 155 + radius * Math.sin(angle) - 16;
    const div = document.createElement("div");
    div.className = "letter"; div.id = `l-${letter}`; div.innerText = letter;
    div.style.left = `${x}px`; div.style.top = `${y}px`;
    container.appendChild(div);
  });
  updateUI();
}

function updateUI() {
  const letter = alphabet[currentIndex];
  document.querySelectorAll(".letter").forEach(el => el.classList.remove("active"));
  document.getElementById(`l-${letter}`).classList.add("active");
  document.getElementById("question-text").innerText = sessionQuestions[letter].q;
}

window.handleCheck = function() {
  const input = document.getElementById("answer-input").value.trim().toUpperCase();
  const letter = alphabet[currentIndex];
  const el = document.getElementById(`l-${letter}`);

  if (input === sessionQuestions[letter].a.toUpperCase()) {
    el.classList.add("correct");
    results[letter] = {status: "correct", ans: sessionQuestions[letter].a};
  } else {
    el.classList.add("wrong");
    results[letter] = {status: "wrong", ans: sessionQuestions[letter].a};
  }
  document.getElementById("answer-input").value = "";
  moveToNext();
};

window.handlePass = function() {
  const letter = alphabet[currentIndex];
  document.getElementById(`l-${letter}`).classList.add("passed");
  document.getElementById("answer-input").value = "";
  moveToNext();
};

function moveToNext() {
  let count = 0;
  while (count < alphabet.length) {
    currentIndex = (currentIndex + 1) % alphabet.length;
    if (!results[alphabet[currentIndex]]) {
      updateUI();
      return;
    }
    count++;
  }
  showFinalResults();
}

function showFinalResults() {
  const screen = document.getElementById("results-screen");
  const stats = document.getElementById("stats-summary");
  const list = document.getElementById("answers-list");
  
  let c = 0, w = 0, p = 0;
  list.innerHTML = "<h3>CEVAP ANAHTARI:</h3>";

  alphabet.forEach(l => {
    const res = results[l];
    const item = document.createElement("div");
    item.className = "result-item";
    
    if (res?.status === "correct") {
        c++;
        item.innerHTML = `<span>${l}:</span> <span style="color:var(--correct)">DOĞRU</span>`;
    } else if (res?.status === "wrong") {
        w++;
        item.innerHTML = `<span>${l}: ${res.ans}</span> <span style="color:var(--wrong)">YANLIŞ</span>`;
    } else {
        p++;
        item.innerHTML = `<span>${l}: ${sessionQuestions[l].a}</span> <span style="color:var(--passed)">PAS</span>`;
    }
    list.appendChild(item);
  });

  stats.innerHTML = `✅ ${c} DOĞRU | ❌ ${w} YANLIŞ | ⏳ ${p} PAS`;
  screen.style.display = "flex";
}

document.getElementById("answer-input").addEventListener("keypress", (e) => { if (e.key === "Enter") handleCheck(); });
initGame();
</script>
</body>
</html>
